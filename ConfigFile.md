# Introduction #

данный раздел посвящён описанию файла настроек бота. настроечный файл представляет собой стандартный ini-файл, в котором сделана попытка создания древовидной структуры.
путь `"some/sectioned/param"=234` будет представлен в ini-файле как
```
[some]
sectioned\param=234
```
время задержки выставляется в миллисекундах (т.е. 1 секунда = 1000)

# параметры #

## общее управление и разная инженерия ##
| **`[General]`** |
|:----------------|
| readonly | boolean | false | запрещает боту менять конфиг |
| initialized | boolean | false | true ::= говорит конфигуратору, что файл уже хороший и что шаблон настроечного файла заливать не надо |
| launched | timestamp | --- | время последнего запуска бота с этим файлом. заполняется ботом |
| debug | boolean | false | выводит кучу отладочной информации (теоретически) |
| **`[log]`** |
| name | string | --- | имя журнала (если не задано, будет браться исходя из имени исполняемого файла). При наличии {DATE} и {TS} они развернутся соответственно в дату и/или таймштамп запуска |
| level\_out | integer | 0 | значение 0(debug) … 3(fatal), какие сообщения выводить в консоль |
| level\_log | integer | 0 | значение 0(debug) … 3(fatal), какие сообщения выводить в журнал |
| **`[page]`** |
| min\_delay | integer | 1000 | минимальная задержка перед нажатием кнопки |
| max\_delay | integer | 30000 | максимальная задержка перед нажатием кнопки |
| **`[goto]`** |
| afk\_seconds | integer | 200 | период бездействия до включения AFK (away from keyboard) |
| forced\_afk\_percents | integer | 20 | шанс (0..100) принудительного перехода в AFK |
| forced\_noafk\_percents | integer | 20 | шанс (0..100) принудительного выхода из AFK |
| min\_delay | integer | 1000 | минимальная задержка перед переходом на страницу |
| max\_delay | integer | 30000 | максимальная задержка перед переходом на страницу |
| afk\_min\_delay | integer | 30000 | минимальная задержка перед переходом на страницу в режиме AFK |
| afk\_max\_delay | integer | 300000 | максимальная задержка перед переходом на страницу в режиме AFK |
| **`[ui]`** |
| trayicon\_enabled | boolean | true | разрешает размещение иконки в систрее |
| balloon\_enabled | boolean | true | разрешает показ баллона возле трей-иконки |
| balloon\_ttl | integer | 2000 | длительность (в мсек) показывания на экране баллона от трей-иконки |
| tray\_toggle | boolean | false | скрывать/показывать окно бота по одиночному щелчку по трей-иконке |
| hide\_on\_close | boolean | false | скрывать ли в трей окошко вместо завершения работы по крестику |
| noimages | boolean | false | перед началом работы выключать автозакачку картинок |
| history\_size | integer | 1000 | если ≥0, то проверяется количество строк в экранном логе и он усекается до нужного размера |
| icon\_index | integer | -1 | если [0…400] то для приложения берётся иконка из карты иконок (см. http://code.google.com/p/bezzabot/issues/detail?id=22&can=1 ) и ![http://i.botva.ru/i/ico.png](http://i.botva.ru/i/ico.png) |
| **`[bot]`** |
| id | string | --- | идентификатор бота (может не совпадать с именем бота)|
| step\_interval | integer | 6543 | значение для интервального таймера |
| workcycle\_debug | boolean | true | показывает начало/окончание работы и доп.работы |
| workcycle\_debug2 | boolean | false | показывает процедуру перебора работ. очень (!) флудильна |
| plant\_capacity | integer | -1 | принудительно задаёт начальное значение плантации (чтобы не лазить за ним на страницу) |
| **`[connection]`** |
| use\_proxy | boolean | false | пользовать ли http-прокси для соединения |
| proxy\_host | string | --- | адрес прокси-сервера |
| proxy\_port | integer | --- | порт на прокси-сервере |
| proxy\_login | string | --- | логин для прокси (если нужен) |
| proxy\_password | string | --- | пароль для прокси (если нужен) |
| private\_cache | bool | true | отдельный веб-кеш |
| cache\_size | longint | 10000000 | размер (в байтах) кеша для браузера |
| cached\_pages | int | 20 | максимальное количество закешированныъх страниц |
| debug | boolean | false | включает вывод из NetManager-а |
| nmlog | boolean | false | включает регистрацию отправляемых пакетов (флуд в каталоге data/nmlog) |
| use\_tarball | boolean | true | включает сохранение принятых страниц в gzipped tarball, а не рассыпает их на диске |
| antispy | boolean | false | ограничивает исходящие соединения: разрешает соединение только к серверам **.botva.ru**|
| **`[login]`** |
| baseurl | string | --- | базовый URL игрового сервера (например `"http://turbo.botva.ru/"`). при указании baseurl параметр server\_id игнорируется |
| server\_id | integer | --- | номер сервера (1,2 или 3) |
| email | string | --- | почтовый адрес, к которому привязан персонаж |
| password | string | --- | пароль для доступа к персонажу |
| console\_encoding | string | --- | кодировка (cp866 или cp1251 или что-то подобное) для вывода лога в консоль |
| log\_encoding | string | --- | кодировка (cp866 или cp1251 или что-то подобное) для вывода лога в файл |
| **`[watchdog]`** |
| loop\_warning\_count | integer | 5 | число повторов одинакового возвращаемого url-а, при котором выдаётся предупреждение. disabled when ≤ 0 |
| loop\_soft\_unloop\_count | integer | 10 | число повторов при котором выполняется "мягкий" срыв цикла. disabled when ≤ 0|
| loop\_forced\_unloop\_count | integer | 13 | число повторов при котором выполняется безусловный срыв цикла. disabled when ≤ 0 |
| loop\_fatal\_count | integer | 15 | число повторов при котором выполняется аварийное завершение. disabled when ≤ 0 |
| skippers | string | tavern... | список кусков URL-ов, которые будут сбрасывать счётчик повторов. по умолчанию это таверна и инкубатор |
| max\_awaiting\_timeout | integer | 60 | максимальное время, считающееся достаточным для загрузки и обработки страницы |
| coward\_mode | bool | false | режим, при котором будет происходить избегание зацикливания при таймауте. (не факт, что это помогает ☺) |
| strict | bool | false | при true бот будет трактовать ошибку загрузки как пустую страницу, иначе повторно обработает последнюю загруженную |

## управление задачами-работами ##
### общие для всех работ и доп.работ параметры ###
| enabled | bool | false | разрешение работы модуля |
|:--------|:-----|:------|:-----------------------------------------------|
| activity\_hours | string | 0-23 | время работы модуля. назначается набором интервалов вида **число** или **число-число**, разделённых пробелом (например: 23-7 12-15 19) |
| use\_postponed\_wearing | boolean | true | разрешение отложенного переодевания кулона, указанного в wear\_on\_end |
| use\_coulons | boolean | false | использовать систему зависимого переодевания кулонов |
| wear\_on\_begin | string | --- | если выставлен, бот будет пытаться надеть указанный кулон перед началом работы |
| wear\_on\_end | string | --- | если выставлен, бот будет пытаться надеть указанный кулон после окончания работы |

### настройки для основных работ ###
| **`[Work_Sleeping]`** |
|:----------------------|
| enabled | boolean | false | разрешение сна |
| use\_coulons | boolean | true | использовать ли переодевание кулонов перед сном |
| use\_link | boolean | false | пресекать любую коммуникацию с сервером во время сна |
| **`[Work_Mining]`** |
| enabled | boolean | false | разрешение работы модуля шахтёрства |
| digchance | integer | 75 | процент вероятности, достаточный для добычи кристалла |
| hardminer | boolean | false | проверять наличие заговора УШ |
| spender | boolean | false | добывать при любом проценте если много денег |
| use\_coulons | boolean | true | использовать ли переодевание кулонов перед шахтой |
| use\_mineshop\_pro | boolean | true | закупать ли проф.инструмент |
| use\_mineshop | boolean | true | закупать ли инструмент |
| **`[Work_Watching]`** |
| enabled | boolean | false | разрешить работу модулю похода в дозор |
| duration10 | integer | 1 | длительность похода (в десятиминутных интервалах) |
| continuous | boolean | false | пытаться ли сразу же повторить поход |
| use\_coulons | boolean | true | использовать ли переодевание кулонов перед походом |
| immune\_only | boolean | false | ходить в поход только при иммунитете |
| maxed\_coulon | boolean | false | сказать, что достаточно и 60-сек иммунитета |
| **`[Work_FieldsOpening]`** |
| enabled | boolean | false |  разрешить открытие полянок |
| open\_small | boolean | true | открывать малые полянки |
| open\_big | boolean | true | открывать большие полянки |
| level\_gap | integer | 1 | принудительно открывать поляны если level-Ntik > gap |
| min\_amount | integer | 1 | начинать открывать, если суммарное количество билетов большее min\_amount |
| fast\_game | boolean | false | тыкать по кнопке быстро (задержка в 30…500 мс вместо обычных page/delay\_min) |
| **`[Work_Farming]`** |
| enabled | boolean | false | разрешить работу на ферме |
| sleep\_hours | string | 0-7 | часы "беспробудного сна" (формат `ActivityHours`), в это время доп.работы проводиться не смогут |
| hours | integer | 1 | максимальное время работы (реальное время может быть другим в зависимости от activity\_hours) |
| **`[Work_Fighting]`** |
| enabled | boolean | false | разрешить ходить в бодалку |
| min\_hp | integer | -1 | минимальное количество здоровья для начала работы |
| min\_hp\_percents | integer | 25 |  минимальный процент здоровья для возможности боя |
| normal | boolean | false | разрешить бодаться обычным поиском |
| zorro | boolean | false | разрешить бодаться в маске Zorro |
| max\_tries | int | 5 | максимальное количество попыток найти жертву |
| **`[Work_ScaryFighting]`** |
| enabled | boolean | false | разрешить ходить бить страшилок и/или бандюков/мирников |
| min\_hp | integer | 777 | минимальное количество здоровья для начала работы |
| level | integer | 1 | >0 - уровень страшилки (за кри), =0 - случайный выбор (за золото), -1 - бандюки/мирники |
| save\_pet | boolean | false | доставать зверушку только на время боя и прятать в остальное время |
| pet\_index | int | -1 | номер зверушки (пока ставить только в 0 !) |
| **`[Work_Training]`** |
| enabled | boolean | false | разрешить тренировки статов |
| train | string | --- | список статов для тренировки (из набора power/block/dexterity/endurance/charisma/ сила/защита/ловкость/масса/мастерство) |
| gold\_over | integer | 0 | использовать деньги выше указанной суммы (то есть оставлять запас из gold\_over золота) |

### настройки для дополнительных работ ###
| **`[Work_Fishing]`** |
|:---------------------|
| enabled | boolean | false |  разрешать ли отправку рыболова с пирса |
| **`[Work_ClanGiving]`** |
| enabled | boolean | false |  разрешать ли слив лишних денег в клан |
| minimal\_amount | integer | 1 | минимальный размер вклада |
| maximal\_amount | integer | -1 | максимальный размер вклада (≤0 - не ограничен) |
| minimal\_interval | integer | 300 |  минимальный интервал (в секундах) между вкладами |
| drift\_interval | integer | 1500 | величина случайного интервала, прибавляемого к minimal\_interval |
| unsaved\_only | boolean | true | сливать только незащищённое золото |
| **`[Work_FlyingBreeding]`** |
| enabled | boolean | false |  разрешать ли отправку летунов в большое путешествие |
| min\_timegap | integer | 5 | минимальная задержка в секундах при возможной активации работы |
| max\_timegap | integer | 300 | минимальная задержка в секундах при возможной активации работы |
| smart\_journey | boolean | true | прекращать пользовать малое путешествие после достижения level cap |
| use\_small\_journey | boolean | false | пользовать ли малое путешествие |
| use\_big\_journey | boolean | true | пользовать ли большое путешествие |
| use\_karkar | boolean | false | пользовать ли кар-кар |
| hours4sj | string | 0-23 | часы активности для малого путешествия |
| hours4bj | string | 0-23 | часы активности для большого путешествия |
| hours4kk | string | 0-23 | часы активности для путешествия кар-Кар |
| duration10 | integer | 0 | количество десятиминутных интервалов для малого путешествия (0 == пользовать максимум) |
| karkar\_length | integer | 1 | время полёта в каркар |
| bonus\_days | int | -1 | количество дней, на которое должны быть продлены бонусы у летуна |
| bonus\_priority | string | --- | список приоритетности бонусов (будут продлеваться именно в этом порядке). список по умолчанию "fast safe2 safe luck power block charisma dexterity" |
| use\_bonus | string | --- | список бонусов для продления power/block/dexterity/charisma/safe/safe2/fast/luck или сила/защита/ловкость/мастерство/золотой\_мешочек/красный\_мешочек/колокольчик/подкова или 0…7 |
| check4feed | boolean | false | заставляет бота поддерживать сытость летунов выше 70% |
| food | string | Crystals | кормёжка для летуна (Crystals/Slaves/Fish) |
| safe\_switch | boolean | true | переключать по возможности через перезагрузку страницы (нажатием на заголовок летуна в гармошке) |
| accumulate | boolean | false | задерживать ли тренировку до тех пор, пока не начнём летать в каркар или малое путешествие |
| workout\_set | string | --- | список статок для тренировки (из power block dexterity endurance charisma) |
| workout\_plan | string | cheapest | что выбирать для тренировки (cheapest/lowest/highest/greatest) |
| **`[Work_SlaveHolding]`** |
| enabled | boolean | false |  разрешать ли автозакуп рабов-людишек |
| interval\_min | integer | 5 | минимальный принудительный интервал между закупками (в минутах) |
| interval\_max | integer | 5 | максимальный принудительныйинтервал между закупками (в минутах) |
| **`[Work_CrystalGrinding]`** |
| enabled | boolean | false |  разрешать ли автопомол кристаллов в пыль |
| grind\_over | integer | 0 |  количество кристаллов сохраняемое от перемолки |
| **`[Work_QuestCompletist]`** |
| enabled | boolean | false |  разрешать автопринятие наград за выполнение школьных поручений |
| minimal\_interval | integer | 3600 |  минимальный интервал для повторной проверки (в сек)|
| minimal\_interval | integer | 7200 |  вариация интервала для повторной проверки (в сек)|


летуны позволяют индивидуальную настройку. имя настроечного параметра получается как имя параметра '~' номер летуна (например) use\_small\_journey~1 = false